import{j as e,r as p,m as y,u as f,A as q,a as Me,e as X,b as _e,R as Se,S as Ze,T as ke,c as Ne,L as Ee,C as Ie,d as Le}from"./vendor-react-core-CGDK1b01.js";import{u as M,a as k,b as Te,c as w,d as Pe,e as C,f as L,g as O,h as te,i as _,j as S,k as W,l as ce,m as Ae}from"./game-stores-BGb63l6J.js";import{A as $,T as ee,R as Re,S as G,C as de,G as xe}from"./vendor-pixi-DFkI6Qzo.js";import{e as Oe,M as $e,I as ze,a as Ge,S as Be,C as Fe,P as Ue,E as We,O as Ye,b as Ke,c as qe,D as Xe}from"./game-entities-B6Ki70Zy.js";const Je=({children:t})=>e.jsx("div",{className:"grid gap-4 grid-cols-1 mt-[12vh] max-w-lg w-[90vw] text-fg mx-5",children:p.Children.map(t,s=>s)}),V=({title:t,onClick:s,disabled:n,className:l="",icon:a,iconPosition:r="right",textColorClass:o,textGradientClass:c})=>e.jsxs(y.button,{className:`group gap-2.5 flex-center rounded-2xl font-bold
                transition-all duration-300 shadow-lg border-4 relative
                
                h-xs:text-sm h-sm:text-base h-md:text-lg h-lg:text-2xl h-xl:text-4xl
                h-xs:p-2 h-sm:p-3 h-md:p-4 h-lg:p-5 h-xl:p-6
                
                ${n?"bg-gray-600 border-gray-500 text-gray-300 cursor-not-allowed":`bg-primary-600 border-primary-400 ${o??"text-white hover:text-primary-50"} cursor-pointer`} ${l}`,onClick:s,disabled:n,whileHover:n?{}:{scale:1.05},whileTap:n?{}:{scale:.95},children:[!n&&e.jsx("div",{className:`rounded-xl absolute inset-0 bg-gradient-to-r ${c??"from-sky-500"}
                    opacity-0 group-hover:opacity-100 transition-opacity duration-300 -z-10`}),!n&&e.jsx("div",{className:"absolute inset-0 overflow-hidden",children:e.jsx("div",{className:`absolute -inset-y-full -left-20 w-20 bg-gradient-to-r from-transparent\r
                        via-white/30 to-transparent transform rotate-12 group-hover:translate-x-70\r
                        transition-all duration-1000`})}),r==="left"&&a,t&&e.jsx("span",{className:"relative z-10 drop-shadow-md",children:t}),r==="right"&&a]}),Qe=({className:t})=>e.jsx("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:`inline-block ${t}`,children:e.jsxs("g",{clipPath:"url(#clip0_491_1034)",children:[e.jsx("path",{d:"M28.95 7.62V9.14H30.48V10.67H28.95V12.19H32V7.62H28.95Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M30.48 13.71H28.95V15.24H30.48V13.71Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M30.48 4.57001H28.95V6.09001H30.48V4.57001Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M28.95 15.24H27.43V16.76H28.95V15.24Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M28.95 12.19H27.43V13.71H28.95V12.19Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M28.95 6.09H27.43V7.62H28.95V6.09Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M28.95 3.04999H27.43V4.56999H28.95V3.04999Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M27.43 16.76H25.91V18.28H27.43V16.76Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M27.43 1.51999H25.91V3.04999H27.43V1.51999Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M25.91 15.24H24.38V16.76H25.91V15.24Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M25.91 3.04999H24.38V4.56999H25.91V3.04999Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M19.81 0V3.05H21.34V1.52H22.86V3.05H24.38V0H19.81Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M22.86 25.9H21.34V27.43H22.86V25.9Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M19.81 16.76V18.28H22.86V21.33H19.81V22.86H24.38V16.76H19.81Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M21.34 27.43H19.81V28.95H21.34V27.43Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M21.34 24.38H19.81V25.9H21.34V24.38Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M21.34 13.71H19.81V15.24H21.34V13.71Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M19.81 12.19H21.34V13.71H24.38V12.19H25.91V7.62H24.38V9.14H22.86V7.62H24.38V6.09H19.81V7.62H18.29V10.67H19.81V12.19Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M19.81 28.95H18.29V30.48H19.81V28.95Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M19.81 22.86H18.29V24.38H19.81V22.86Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M19.81 15.24H18.29V16.76H19.81V15.24Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M19.81 3.04999H18.29V4.56999H19.81V3.04999Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M18.29 27.43H16.76V28.95H18.29V27.43Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M18.29 10.67H16.76V12.19H18.29V10.67Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M18.29 1.51999H16.76V3.04999H18.29V1.51999Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M16.76 25.9H15.24V27.43H16.76V25.9Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M16.76 18.28H15.24V21.33H16.76V18.28Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M16.76 12.19H15.24V13.71H16.76V12.19Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M16.76 3.04999H15.24V4.56999H16.76V3.04999Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M13.72 30.48H10.67V27.43H9.15002V32H15.24V27.43H13.72V30.48Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M15.24 21.33H13.72V22.86H15.24V21.33Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M15.24 16.76H13.72V18.28H15.24V16.76Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M15.24 4.57001H13.72V6.09001H15.24V4.57001Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M13.72 15.24H10.67V16.76H13.72V15.24Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M13.72 22.86H10.67V24.38H13.72V22.86Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M10.67 21.33H9.15002V22.86H10.67V21.33Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M10.67 16.76H9.15002V18.28H10.67V16.76Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M10.67 9.14H13.72V12.19H15.24V7.62H9.15002V12.19H10.67V9.14Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M9.14999 25.9H7.62V27.43H9.14999V25.9Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M9.14999 18.28H7.62V21.33H9.14999V18.28Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M9.14999 12.19H7.62V13.71H9.14999V12.19Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M7.61998 27.43H6.09998V28.95H7.61998V27.43Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M7.61998 10.67H6.09998V12.19H7.61998V10.67Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M6.10001 28.95H4.57001V30.48H6.10001V28.95Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M6.10001 22.86H4.57001V24.38H6.10001V22.86Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M6.10001 15.24H4.57001V16.76H6.10001V15.24Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M6.10001 9.14001H4.57001V10.67H6.10001V9.14001Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M4.56999 27.43H3.04999V28.95H4.56999V27.43Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M4.56999 24.38H3.04999V25.9H4.56999V24.38Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M1.53 21.33V18.28H4.57V16.76H0V22.86H4.57V21.33H1.53Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M4.56999 13.71H3.04999V15.24H4.56999V13.71Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M4.56999 10.67H3.04999V12.19H4.56999V10.67Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M3.05003 25.9H1.53003V27.43H3.05003V25.9Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M3.05003 12.19H1.53003V13.71H3.05003V12.19Z",fill:"#D8DCDC"})]})}),is={width:24,height:48},cs={width:24,height:24},ds={width:24,height:24},xs={x:24,y:432},hs={x:24,y:432},us={x:960,y:432},E=24,he=42,ue=21,me=E*he,pe=E*ue,et=3,B=`        h-xs:w-4 h-sm:h-4
        h-sm:w-6 h-sm:h-6
        h-md:w-8 h-md:h-8
        h-lg:w-10 h-lg:h-10
        h-xl:w-12 h-xl:h-12`,tt=`h-xs:text-4xl h-xs:mt-3
h-sm:text-5xl h-sm:mt-2
h-md:text-6xl h-md:mt-2
h-lg:text-7xl h-lg:mt-1
h-xl:text-8xl h-xl:mt-1`,ne=13,ms=4,ps=4,fs=64,st=[{id:0,label:"turnOff",key:"music0"},{id:1,label:"winter",key:"music1"},{id:2,label:"spring",key:"music2"},{id:3,label:"summer",key:"music3"},{id:4,label:"autumn",key:"music4"}],se=[{key:"underworld",label:"underworld",background:"backgrounds/12.png"},{key:"winter",label:"winter",background:"backgrounds/4.png"},{key:"spring",label:"spring",background:"backgrounds/7.png"},{key:"summer",label:"summer",background:"backgrounds/8.png"},{key:"autumn",label:"autumn",background:"backgrounds/13.png"}],fe=()=>{const{t}=f("translations"),{change:s}=M();return e.jsx(V,{title:t("settings"),onClick:()=>s("settings"),icon:e.jsx(Qe,{className:B})})},nt=({className:t})=>e.jsxs("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:`inline-block ${t}`,children:[e.jsx("path",{d:"M32 19.81H30.48V30.48H32V19.81Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M30.48 30.48H1.53003V32H30.48V30.48Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M25.91 24.38H24.38V25.91H27.43V22.86H25.91V24.38Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M27.43 27.43H24.38V28.96H27.43V27.43Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M24.38 21.34H22.86V22.86H24.38V21.34Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M24.38 10.67H22.86V12.19H24.38V10.67Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M22.86 24.38H21.33V25.91H22.86V24.38Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M22.86 12.19H21.33V13.72H22.86V12.19Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M22.86 9.14999H21.33V10.67H22.86V9.14999Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M22.86 27.43H9.14001V28.96H22.86V27.43Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M21.33 21.34H19.81V22.86H21.33V21.34Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M21.33 7.62H6.09998V9.14999H21.33V7.62Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M19.81 24.38H18.29V25.91H19.81V24.38Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M19.81 0H18.29V3.05H19.81V0Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M18.29 21.34H16.76V22.86H18.29V21.34Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M16.76 24.38H15.24V25.91H16.76V24.38Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M15.24 21.34H13.72V22.86H15.24V21.34Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M21.33 13.72H12.19V15.24H21.33V13.72Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M13.72 24.38H12.19V25.91H13.72V24.38Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M12.19 21.34H10.67V22.86H12.19V21.34Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M10.67 24.38H9.14001V25.91H10.67V24.38Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M9.14 21.34H7.62V22.86H9.14V21.34Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M18.29 3.04999H6.09998V4.57999H18.29V3.04999Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M7.61998 24.38H6.09998V25.91H7.61998V24.38Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M7.62001 27.43H4.57001V28.96H7.62001V27.43Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M6.10001 21.34H4.57001V22.86H6.10001V21.34Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M6.10001 4.57999H4.57001V7.61999H6.10001V4.57999Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M4.56999 24.38H3.04999V25.91H4.56999V24.38Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M30.48 19.81V18.29H12.19V15.24H10.67V18.29H1.53003V19.81H30.48Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M1.53 19.81H0V30.48H1.53V19.81Z",fill:"#D8DCDC"})]}),lt=()=>{const{t}=f("translations"),{change:s}=M();return e.jsx(V,{title:t("play"),onClick:()=>s("play"),icon:e.jsx(nt,{className:B})})},at=()=>e.jsxs(e.Fragment,{children:[e.jsx(lt,{}),e.jsx(fe,{})]}),ot=({className:t})=>e.jsx("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:`inline-block ${t}`,children:e.jsx("path",{d:"M30.48 9.14H28.95V6.09H27.43V4.57H25.9V3.05H22.86V1.52H19.81V0H12.19V1.52H9.14V3.05H6.09V4.57H4.57V6.09H3.05V9.14H1.52V12.19H0V19.81H1.52V22.86H3.05V25.9H4.57V27.43H6.09V28.95H9.14V30.48H12.19V32H19.81V30.48H22.86V28.95H25.9V27.43H27.43V25.9H28.95V22.86H30.48V19.81H32V12.19H30.48V9.14ZM25.9 21.33H24.38V22.86H22.86V24.38H18.29V22.86H19.81V21.33H21.33V19.81H19.81V18.29H13.71V21.33H12.19V19.81H10.67V18.29H9.14V16.76H7.62V15.24H6.09V13.71H7.62V12.19H9.14V10.67H10.67V9.14H12.19V7.62H13.71V10.67H22.86V12.19H24.38V13.71H25.9V21.33Z",fill:"#C43232"})}),F=({newState:t,global:s,className:n})=>{const{t:l}=f("translations"),{change:a}=M(),{change:r}=k();return e.jsx(V,{className:n,title:l("back"),onClick:()=>{s?r(t):a(t)},textColorClass:"text-red-500 hover:text-red-400",textGradientClass:"from-rose-700",icon:e.jsx(ot,{className:B})})},rt=()=>{const{t}=f("translations"),{change:s}=M();return e.jsx(V,{title:t("newGame"),onClick:()=>s("confirm")})},it=()=>{const{t}=f("translations"),{reset:s}=M(),n=k(l=>l.change);return e.jsx(V,{title:t("continue"),onClick:()=>{n("levelSelect"),s()}})},ct=()=>e.jsxs(e.Fragment,{children:[e.jsx(rt,{}),e.jsx(it,{}),e.jsx(F,{newState:"main"})]}),dt=({className:t})=>e.jsxs("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:`inline-block ${t}`,children:[e.jsx("path",{d:"M32 9.905H30.47V22.095H32V9.905Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M30.4699 22.095H28.95V23.615H30.4699V22.095Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M30.4699 8.375H28.95V9.905H30.4699V8.375Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M28.9499 23.615H27.4299V25.135H28.9499V23.615Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M28.9499 12.945H27.4299V19.045H28.9499V12.945Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M28.9499 6.85501H27.4299V8.37501H28.9499V6.85501Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M27.4299 19.045H25.8999V20.565H27.4299V19.045Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M27.4299 11.425H25.8999V12.945H27.4299V11.425Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M25.8999 14.475H24.3799V17.525H25.8999V14.475Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M22.8501 5.33499H21.3301V26.665H22.8501V5.33499Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M21.3301 26.665H19.8101V28.185H21.3301V26.665Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M21.3301 3.80499H19.8101V5.33499H21.3301V3.80499Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M19.81 28.185H15.24V29.715H19.81V28.185Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M18.28 22.095H16.76V23.615H18.28V22.095Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M18.28 8.375H16.76V9.905H18.28V8.375Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M19.81 2.285H15.24V3.805H19.81V2.285Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M16.76 9.905H15.24V22.095H16.76V9.905Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M15.24 26.665H13.71V28.185H15.24V26.665Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M15.24 3.80499H13.71V5.33499H15.24V3.80499Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M13.7099 25.135H12.1899V26.665H13.7099V25.135Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M13.7099 5.33499H12.1899V6.85499H13.7099V5.33499Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M12.1899 23.615H10.6599V25.135H12.1899V23.615Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M12.1899 6.85501H10.6599V8.37501H12.1899V6.85501Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M10.6599 22.095H9.13989V23.615H10.6599V22.095Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M10.6599 8.375H9.13989V9.905H10.6599V8.375Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M9.14012 20.565H7.62012V22.095H9.14012V20.565Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M9.14012 9.905H7.62012V11.425H9.14012V9.905Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M7.62 11.425H1.52V12.945H0V19.045H1.52V20.565H7.62V11.425ZM4.57 14.475H3.05V17.525H1.52V14.475H3.05V12.945H4.57V14.475Z",fill:"#D8DCDC"})]}),xt=()=>{const{t}=f("translations"),{change:s}=M();return e.jsx(V,{title:t("volume"),onClick:()=>s("volume"),icon:e.jsx(dt,{className:`mt-1 ${B}`})})},ht=({className:t})=>e.jsx("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:`inline-block ${t}`,children:e.jsxs("g",{clipPath:"url(#clip0_491_1225)",children:[e.jsx("path",{d:"M32 18.29H30.47V28.95H32V18.29Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M30.4699 28.95H28.95V30.48H30.4699V28.95Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M30.4699 16.76H28.95V18.29H30.4699V16.76Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M30.4699 7.62H28.95V12.19H30.4699V7.62Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M28.9499 6.09H27.4199V7.62H28.9499V6.09Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M28.95 30.48H18.28V32H28.95V30.48Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M25.9 24.38H21.33V19.81H19.8V28.95H21.33V25.9H25.9V28.95H27.42V19.81H25.9V24.38Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M25.9001 18.29H21.3301V19.81H25.9001V18.29Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M28.95 15.24H18.28V16.76H28.95V15.24Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M21.33 1.51999V3.04999H19.8V4.56999H18.28V6.08999H19.8V7.61999H21.33V9.13999H22.85V6.08999H27.42V4.56999H22.85V1.51999H21.33Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M18.28 28.95H16.76V30.48H18.28V28.95Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M18.28 16.76H16.76V18.29H18.28V16.76Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M16.76 18.29H15.23V28.95H16.76V18.29Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M16.76 3.04999H15.23V13.71H16.76V3.04999Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M15.23 13.71H13.71V15.24H15.23V13.71Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M15.23 1.51999H13.71V3.04999H15.23V1.51999Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M10.66 7.61999H12.19V6.08999H13.71V4.56999H9.14004V3.04999H7.61004V4.56999H3.04004V6.08999H10.66V7.61999Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M10.6601 30.48V28.95H12.1901V27.43H13.7101V25.9H12.1901V24.38H10.6601V22.86H9.14007V25.9H4.57007V27.43H9.14007V30.48H10.6601Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M13.71 15.24H3.04004V16.76H13.71V15.24Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M12.1899 12.19H10.6599V13.71H12.1899V12.19Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M10.6599 10.67H9.13989V12.19H10.6599V10.67Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M10.6599 7.62H9.13989V9.14H10.6599V7.62Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M9.14011 9.14001H7.61011V10.67H9.14011V9.14001Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M7.61009 10.67H6.09009V12.19H7.61009V10.67Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M7.61009 7.62H6.09009V9.14H7.61009V7.62Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M6.09007 12.19H4.57007V13.71H6.09007V12.19Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M13.71 0H3.04004V1.52H13.71V0Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M4.57004 24.38H3.04004V25.9H4.57004V24.38Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M3.04002 19.81H1.52002V24.38H3.04002V19.81Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M3.04002 13.71H1.52002V15.24H3.04002V13.71Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M3.04002 1.51999H1.52002V3.04999H3.04002V1.51999Z",fill:"#D8DCDC"}),e.jsx("path",{d:"M1.52 3.04999H0V13.71H1.52V3.04999Z",fill:"#D8DCDC"})]})}),ut=()=>{const{t}=f("translations"),{change:s}=M();return e.jsx(V,{title:t("language"),onClick:()=>s("language"),icon:e.jsx(ht,{className:`mt-1 ${B}`})})},ge=()=>e.jsxs(e.Fragment,{children:[e.jsx(xt,{}),e.jsx(ut,{}),e.jsx(F,{newState:"main"})]}),je=()=>{const{i18n:t}=f("translations");return e.jsxs(e.Fragment,{children:[e.jsx(V,{title:"Русский",onClick:()=>t.changeLanguage("ru")}),e.jsx(V,{title:"English",onClick:()=>t.changeLanguage("en")}),e.jsx(F,{newState:"settings"})]})},mt=({type:t,height:s=40})=>e.jsx("div",{className:`p-4 m-1 rounded-lg transition-all duration-300 ${t==="filled"?"bg-sky-500":"bg-gray-300 dark:bg-gray-600"}`,style:{height:s}}),pt=({className:t})=>e.jsx("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:`inline-block ${t}`,children:e.jsx("path",{d:"M16 29.333H13.333V26.667H10.667V24H13.333V8H10.667V5.33301H13.333V2.66699H16V29.333ZM10.667 24H8V21.333H10.667V24ZM8 13.333H5.33301V18.667H8V21.333H2.66699V10.667H8V13.333ZM29.333 17.333H18.667V14.667H29.333V17.333ZM10.667 10.667H8V8H10.667V10.667Z",fill:"white"})}),ft=({className:t})=>e.jsx("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:`inline-block ${t}`,children:e.jsx("path",{d:"M16 29.333H13.333V26.667H10.667V24H13.333V8H10.667V5.33301H13.333V2.66699H16V29.333ZM10.667 24H8V21.333H10.667V24ZM8 13.333H5.33301V18.667H8V21.333H2.66699V10.667H8V13.333ZM25.333 14.667H29.333V17.333H25.333V21.333H22.667V17.333H18.667V14.667H22.667V10.667H25.333V14.667ZM10.667 10.667H8V8H10.667V10.667Z",fill:"white"})}),gt=()=>{const{volume:t,volumeChange:s}=Te();return p.useEffect(()=>{Howler.volume(t)},[t]),e.jsxs("div",{className:"flex-center m-4",children:[e.jsx(V,{iconPosition:"left",onClick:()=>s("down"),icon:e.jsx(pt,{className:"w-8 h-8"})}),Array.from({length:10},(n,l)=>l+1).map(n=>{const l=n<=t*10?"filled":"empty";return e.jsx(mt,{type:l},n)}),e.jsx(V,{iconPosition:"left",icon:e.jsx(ft,{className:"w-8 h-8"}),onClick:()=>s("up")})]})},Ve=()=>e.jsxs(e.Fragment,{children:[e.jsx(gt,{}),e.jsx(F,{newState:"settings"})]}),jt="modulepreload",Vt=function(t){return"/game-szns/"+t},le={},j=function(s,n,l){let a=Promise.resolve();if(n&&n.length>0){let o=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),i=c?.nonce||c?.getAttribute("nonce");a=o(n.map(d=>{if(d=Vt(d),d in le)return;le[d]=!0;const h=d.endsWith(".css"),u=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${u}`))return;const g=document.createElement("link");if(g.rel=h?"stylesheet":jt,h||(g.as="script"),g.crossOrigin="",g.href=d,i&&g.setAttribute("nonce",i),document.head.appendChild(g),h)return new Promise((m,x)=>{g.addEventListener("load",m),g.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function r(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return a.then(o=>{for(const c of o||[])c.status==="rejected"&&r(c.reason);return s().catch(r)})},He=(t,s,n)=>{const l=t[s];return l?typeof l=="function"?l():Promise.resolve(l):new Promise((a,r)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(r.bind(null,new Error("Unknown variable dynamic import: "+s+(s.split("/").length!==n?". Note that variables only represent file names one level deep.":""))))})};async function gs(t,s){return await He(Object.assign({"../jsons/levels/autumn/level1.json":()=>j(()=>import("./level1-BsOjQnLJ.js"),[]),"../jsons/levels/autumn/level2.json":()=>j(()=>import("./level2-C3KtUuea.js"),[]),"../jsons/levels/autumn/level3.json":()=>j(()=>import("./level3-Dy3EzuGn.js"),[]),"../jsons/levels/autumn/level4.json":()=>j(()=>import("./level4-BzgY3Jab.js"),[]),"../jsons/levels/autumn/level5.json":()=>j(()=>import("./level5-sQHlUWoF.js"),[]),"../jsons/levels/spring/level1.json":()=>j(()=>import("./level1-BAEb-_RL.js"),[]),"../jsons/levels/spring/level2.json":()=>j(()=>import("./level2-KLAsKmcN.js"),[]),"../jsons/levels/spring/level3.json":()=>j(()=>import("./level3-CntSLqeV.js"),[]),"../jsons/levels/spring/level4.json":()=>j(()=>import("./level4-DDJ7W7Si.js"),[]),"../jsons/levels/spring/level5.json":()=>j(()=>import("./level5-CjKaMFCY.js"),[]),"../jsons/levels/summer/level1.json":()=>j(()=>import("./level1-BjR-xt9S.js"),[]),"../jsons/levels/summer/level2.json":()=>j(()=>import("./level2-Yib2QOHs.js"),[]),"../jsons/levels/summer/level3.json":()=>j(()=>import("./level3-DEHES6aA.js"),[]),"../jsons/levels/summer/level4.json":()=>j(()=>import("./level4-SjM48IVg.js"),[]),"../jsons/levels/summer/level5.json":()=>j(()=>import("./level5-DiIM94IR.js"),[]),"../jsons/levels/underworld/level1.json":()=>j(()=>import("./level1-2PjjC_Ts.js"),[]),"../jsons/levels/underworld/level2.json":()=>j(()=>import("./level2-BaPLlKI9.js"),[]),"../jsons/levels/underworld/level3.json":()=>j(()=>import("./level3-D5rNAlp-.js"),[]),"../jsons/levels/underworld/level4.json":()=>j(()=>import("./level4-k189NJ2i.js"),[]),"../jsons/levels/underworld/level5.json":()=>j(()=>import("./level5-DKkOqtv4.js"),[]),"../jsons/levels/winter/level1.json":()=>j(()=>import("./level1-DmfANO3E.js"),[]),"../jsons/levels/winter/level2.json":()=>j(()=>import("./level2-BoMulW0v.js"),[]),"../jsons/levels/winter/level3.json":()=>j(()=>import("./level3-D4nJTTYS.js"),[]),"../jsons/levels/winter/level4.json":()=>j(()=>import("./level4-BI_btO40.js"),[]),"../jsons/levels/winter/level5.json":()=>j(()=>import("./level5-BjXRMLZw.js"),[])}),`../jsons/levels/${s}/level${t}.json`,5)}async function Ht(t){return await He(Object.assign({"../jsons/players/player1.json":()=>j(()=>import("./player1-CyaSZ0La.js"),[]),"../jsons/players/player2.json":()=>j(()=>import("./player2-B8J9-BV2.js"),[]),"../jsons/players/player3.json":()=>j(()=>import("./player3-C8Du1QF1.js"),[])}),`../jsons/players/player${t}.json`,4)}const T=({pages:t,onComplete:s,onSecondary:n,secondaryLabel:l,primaryLabel:a,backgroundColor:r="bg-black/90"})=>{const[o,c]=p.useState(0),{t:i}=f("translations"),d=w(H=>H.close),h=()=>c(H=>H+1),u=()=>c(H=>Math.max(H-1,0)),g=()=>{s?.(),d()},m=()=>{n?.(),d()},x=t[o];return p.useEffect(()=>{const H=P=>{P.key==="Enter"&&o<t.length-1&&h()};return window.addEventListener("keydown",H),()=>window.removeEventListener("keydown",H)},[o,t.length]),e.jsxs("div",{className:"modal-content text-white p-4 rounded-xl max-w-lg mx-auto",style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url(${r})`,backgroundSize:"cover",backgroundPosition:"center"},children:[x.title&&e.jsx("h2",{className:"text-xl font-bold mb-4",children:x.title}),x.image&&e.jsx("img",{src:x.image,alt:"",className:"mb-4 max-h-32 mx-auto object-contain"}),e.jsx("div",{className:"mb-6 text-base",children:x.content}),e.jsxs("div",{className:"flex justify-between gap-2",children:[o>0?e.jsx("button",{onClick:u,className:"bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded",children:i("back")}):e.jsx("div",{}),o<t.length-1?e.jsx("button",{onClick:h,className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded",children:i("next")}):e.jsxs("div",{className:`flex gap-2 ${s&&n||t.length!==1?"ml-auto":"justify-center w-full"}`,children:[s&&n&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:m,className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded",children:i(l||"leave")}),e.jsx("button",{onClick:g,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded",children:i(a||"fountain.understood","Understood")})]}),!s&&n&&e.jsx("button",{onClick:m,className:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded mx-auto",style:{minWidth:120},children:i(l||"leave")}),s&&!n&&e.jsx("button",{onClick:g,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded",children:i(a||"fountain.understood","Understood")}),!s&&!n&&e.jsx("button",{onClick:g,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded",children:i("fountain.understood","Understood")})]})]})]})},js=()=>{const{t}=f("translations"),s=w(l=>l.close),n=[{title:t("lose.title"),content:t("lose.page1")}];return e.jsx(T,{pages:n,onComplete:s,primaryLabel:"understood"})},Vs=({season:t})=>{const{t:s}=f("translations"),n=w(r=>r.close),l=()=>{n()},a=[{title:s(`miniGame.title.${t}`),content:s(`miniGame.description.${t}`)}];return e.jsx(T,{pages:a,onComplete:l})},Hs=()=>{const t=Pe(a=>a.setMusic),s=w(a=>a.close),{t:n}=f("translations"),l=a=>{t(a),s()};return e.jsxs("div",{className:"flex flex-col gap-3 items-center text-sm p-4",children:[e.jsx("h2",{className:"text-white text-lg font-bold",children:n("selectMusic")}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 w-full",children:[st.map(a=>{const r=se.find(o=>o.label===a.label);return e.jsx("button",{onClick:()=>l(a.key),className:`px-3 py-2 rounded text-white transition-all text-sm ${a.key==="music0"?"col-span-2 bg-red-500 hover:bg-red-600":"col-span-1"} hover:opacity-50`,style:r&&a.key!=="music0"?{backgroundImage:`linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), url(${r.background})`,backgroundSize:"cover",backgroundPosition:"center"}:void 0,children:n(a.label)},a.key)}),e.jsx("button",{onClick:s,className:"px-3 py-2 rounded bg-gray-700 text-white hover:bg-gray-800 transition-all col-span-2 text-sm",children:n("back")})]})]})},Ds=({title:t})=>{const{close:s}=w(),{t:n}=f("translations");return e.jsxs("div",{className:"flex flex-col gap-3 items-center text-sm",children:[e.jsxs("p",{children:[e.jsx("span",{className:"bg-rose-300 p-1",children:"Это одна из 4 сезонных бабочек"}),", символизирующая ",t,". Кажется, нужно найти остальных"]}),e.jsx("button",{onClick:()=>s(),className:"px-3 py-2 rounded bg-gray-700 text-white hover:bg-gray-800 col-span-2 text-sm",children:n("back")})]})},Cs=()=>{const t=C(o=>o.setSeason),s=w(o=>o.close),{t:n}=f("translations"),l=L(o=>o.currentMiniGame),a=[{title:n("portal.title"),content:n("portal.page1")}];if(l)return e.jsx(T,{pages:a,onComplete:s,primaryLabel:"understood"});const r=o=>{t(o),s()};return e.jsxs("div",{className:"relative flex flex-col gap-3 items-center text-sm p-4",children:[e.jsx("h2",{className:"text-white text-lg font-bold",children:n("selectLocation")}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 w-full",children:[se.map(({key:o,label:c,background:i})=>e.jsx("button",{onClick:()=>r(o),className:`px-3 py-2 rounded text-white transition-all text-sm ${o==="underworld"?"col-span-2":"col-span-1"} hover:opacity-50`,style:{backgroundImage:`linear-gradient(rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.4)), url(${i})`,backgroundSize:"cover",backgroundPosition:"center"},children:n(c)},o)),e.jsx("button",{onClick:s,className:"px-3 py-2 rounded text-white bg-gray-700 transition-all text-sm hover:opacity-50 col-span-2",children:n("back")})]})]})},vs=()=>{const{close:t}=w(),{t:s}=f("translations");return e.jsxs("div",{className:"flex flex-col gap-3 items-center text-sm",children:[e.jsx("p",{children:s("memory")}),e.jsx("button",{onClick:()=>t(),className:"px-3 py-2 rounded bg-gray-700 text-white hover:bg-gray-800 col-span-2 text-sm",children:s("back")})]})},ae=(t,s,n)=>Math.max(s,Math.min(n,t)),J=new Map,N=t=>{if(J.has(t))return J.get(t);if($.cache.has(t)){const s=$.cache.get(t);return J.set(t,s),s}return ee.EMPTY},U=({spiritId:t})=>{const{t:s}=f("translations"),n=w(m=>m.close),{startMiniGame:l,isCompleted:a}=L(),r=Dt.find(m=>m.id===t);if(!r)return null;const o=r.name.toLowerCase(),c=a(r.season),d=se.find(m=>m.key===r.season)?.background,h=()=>{l(r.season),n()},u=()=>{n()},g=c?[{title:s("spiritGreeting",{name:r.name}),content:s("alreadyHelped"),image:d}]:[{title:s("spiritGreeting",{name:r.name}),content:s(`spiritDialogue.${o}.0`),image:d},{content:s(`spiritDialogue.${o}.1`),image:d},{content:s(`spiritDialogue.${o}.2`),image:d}];return e.jsx(T,{pages:g,onComplete:c?void 0:h,onSecondary:u,primaryLabel:c?void 0:"help",secondaryLabel:"leave"})},Dt=[{id:1,name:"Onyx",action:()=>w.getState().open(e.jsx(U,{spiritId:1})),season:"winter"},{id:2,name:"Swifty",action:()=>w.getState().open(e.jsx(U,{spiritId:2})),season:"spring"},{id:3,name:"Mira",action:()=>w.getState().open(e.jsx(U,{spiritId:3})),season:"summer"},{id:4,name:"Laurus",action:()=>w.getState().open(e.jsx(U,{spiritId:4})),season:"autumn"}],ws=()=>{const{t}=f("translations"),{getItem:s,addItem:n,hasAllButterflies:l}=O(),{change:a}=k(),r=!!s(13),o=l(),c=[{content:t("fountain.line1")},{content:t("fountain.line2")},{content:t("fountain.line3")}],i=[{content:t("fountain.repeat")}],d=[{content:t("fountain.final1")},{content:t("fountain.final2")},{content:t("fountain.final3")},{content:t("fountain.final4")}],h=()=>{o?a("titles"):r||n(13)};return e.jsx(T,{pages:o?d:r?i:c,onComplete:h})},ys=()=>{const{t}=f("translations"),s=w(l=>l.close),n=[{title:t("tutorial.title"),content:t("tutorial.page1")},{content:t("tutorial.page2")},{content:t("tutorial.page3")},{content:t("tutorial.page4")}];return e.jsx(T,{pages:n,onComplete:s,primaryLabel:"understood"})},Ct=()=>{const{t}=f("translations"),{reset:s}=M(),n=te(i=>i.resetProgress),{change:l}=C(),{reset:a}=O(),{resetMiniGames:r}=L(),{setStoryShown:o,change:c}=k();return e.jsx(V,{title:t("confirm"),onClick:()=>{n(),o(!1),s(),a(),l(),r(),c("levelSelect")}})},vt=()=>{const{t}=f("translations"),{change:s}=M();return e.jsx(V,{title:t("cancel"),onClick:()=>s("main"),className:"text-red-500"})},wt=()=>{const{t}=f("translations");return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:`font-bold text-center\r
                            h-xs:text-xl\r
                            h-sm:text-2xl\r
                            h-md:text-3xl\r
                            h-lg:text-4xl\r
                            h-xl:text-5xl\r
            `,children:t("confirmNewGame")}),e.jsx(Ct,{}),e.jsx(vt,{})]})},bs=()=>{const{t}=f("translations"),{menu:s}=M(),n=()=>{switch(s){case"main":return e.jsx(at,{});case"play":return e.jsx(ct,{});case"settings":return e.jsx(ge,{});case"language":return e.jsx(je,{});case"confirm":return e.jsx(wt,{});case"volume":return e.jsx(Ve,{})}};return e.jsx("div",{className:"flex flex-col pb-[4vh]",children:e.jsx("div",{className:"gap-y-4 overscroll-auto",children:e.jsxs("div",{className:"flex-center flex-col",children:[e.jsx("h1",{className:`font-bold text-fg text-center\r
                            h-xs:text-8xl h-xs:mt-4\r
                            h-sm:text-9xl h-sm:mt-6\r
                            h-md:text-[10rem] h-md:mt-8\r
                            h-lg:text-[11rem] h-lg:mt-10\r
                            h-xl:text-[12rem] h-xl:mt-12\r
                            `,children:t("gameTitle")}),e.jsx(Je,{children:n()})]})})})},D={left:!1,right:!1,up:!1,down:!1,jump:!1,pause:!1,use:!1,interact:!1},De={w:"up",a:"left",s:"down",d:"right",ц:"up",ф:"left",ы:"down",в:"right"," ":"jump",Escape:"pause",e:"use",у:"use",f:"interact",а:"interact"};let Y=null;const I={},K={};function Z(t){D[t]=!0,I[t]=performance.now();const n=C.getState().nearInteractive.find(l=>l.key===t);n?.holdable&&n.key===t?_.getState().startHold(n.id):(t==="use"||t==="interact")&&delete I[t]}function v(t){D[t]=!1,K[t]=!1,delete I[t];const s=_.getState().interactionId,n=C.getState().nearInteractive.find(l=>l.key===t);n&&n.id===s&&_.getState().cancelHold()}function Ce(t){const s=De[t.key];s&&!D[s]&&Z(s)}function ve(t){const s=De[t.key];s&&v(s)}const yt=()=>{const t=_.getState();t.interactionId&&!C.getState().nearInteractive.some(s=>s.id===t.interactionId)&&(_.getState().cancelHold(),D.interact&&v("interact"),D.use&&v("use"))};function bt(){window.addEventListener("keydown",Ce),window.addEventListener("keyup",ve);let t=performance.now();const s=n=>{const l=n-t;t=n;const a=C.getState(),r=S.getState(),o=W.getState();if(yt(),r.status==="playing"){const c=a.onLadder||o.isMiniGame;a.stacked.x||(D.left&&!D.right?a.come("left"):D.right&&!D.left?a.come("right"):a.setVelocity("x",0)),c?D.up&&!D.down?a.come("up"):D.down&&!D.up?a.come("down"):a.setVelocity("y",0):D.jump&&a.jump(),D.pause&&r.pause();for(const i of a.nearInteractive){const d=i.key;if(!D[d])continue;const h=performance.now();if(i.holdable){const u=h-(I[d]??h),g=Math.min(u/(i.holdDuration??1e3),1);if(_.getState().updateProgress(g),g>=1){i.action(),_.getState().cancelHold(),v(d),delete I[d],C.setState(m=>({nearInteractive:m.nearInteractive.filter(x=>x.id!==i.id)}));break}}else if(!K[d]){K[d]=!0,i.action(),C.setState(u=>({nearInteractive:u.nearInteractive.filter(g=>g.id!==i.id)}));break}}S.getState().tick(l),C.getState().tick(l),Oe.forEach(i=>i.update(l))}Y=requestAnimationFrame(s)};Y=requestAnimationFrame(s)}function Mt(){window.removeEventListener("keydown",Ce),window.removeEventListener("keyup",ve),Y&&cancelAnimationFrame(Y);for(const t in D)D[t]=!1,delete I[t],K[t]=!1}function _t(t,s){const[n,l]=p.useState({width:0,height:0});p.useEffect(()=>{if(!t.current)return;const b=new ResizeObserver(A=>{const{width:ye,height:be}=A[0].contentRect;l({width:ye,height:be})});return b.observe(t.current),()=>b.disconnect()},[t,s]);const a={x:n.width/1008,y:n.height/504},r=me*a.x,o=pe*a.y,c=n.width,i=n.height,d=C.getState().size,h=d.width*a.x,u=d.height*a.y,g=C.getState().position;let m=c/2-g.x*a.x-h/2,x=i/2-g.y*a.y-u/2;const H=c-r,P=i-o;return m=ae(m,H,0),x=ae(x,P,0),{offsetX:m,offsetY:x,scale:a}}const St=({x:t,y:s})=>{const{progress:n}=_(),l=Math.min(1,Math.max(0,n)),a=Math.round(l*100);return e.jsxs("div",{className:"absolute z-50 pointer-events-none",style:{left:t-50,top:s-30,width:100},children:[e.jsx("div",{className:"w-full h-2 bg-neutral-700 rounded overflow-hidden shadow",children:e.jsx("div",{className:"h-full bg-cyan-400 transition-all duration-75",style:{width:`${a}%`}})}),e.jsxs("div",{className:"text-xs text-center text-white mt-1 font-mono",children:[a,"%"]})]})},oe=40,Zt=({offsetX:t,offsetY:s,scale:n})=>{const l=C(i=>i.nearInteractive),{interactionId:a}=_(),{t:r}=f("translations"),o=i=>v(i),c=i=>{Z(i)};return e.jsx(q,{children:l.filter(i=>i.visible).map(i=>{const d=t+(i.x+.5)*n.x,h=s+i.y*n.y-10;return e.jsxs("div",{children:[e.jsx(y.div,{onMouseDown:()=>c(i.key),onMouseUp:()=>o(i.key),onMouseLeave:()=>o(i.key),onTouchStart:()=>c(i.key),onTouchEnd:()=>o(i.key),onTouchCancel:()=>o(i.key),initial:{opacity:0,scale:.9,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:-10},transition:{duration:.2,ease:"easeOut"},style:{position:"absolute",left:d,top:h,cursor:"pointer"},className:`
                transform -translate-x-1/2 -translate-y-full
                bg-[#1e1e1e] border border-[#666] text-white
                text-[10px] px-2 py-[2px] rounded-lg
                pointer-events-auto whitespace-nowrap z-20
                shadow-[0_0_0_1px_rgba(255,255,255,0.1),
                0_1px_2px_rgba(0,0,0,0.5)]
              `,children:r(i.title)}),a===i.id&&i.holdable&&e.jsx(St,{x:d-oe/2,y:h-oe/2})]},i.id)})})},kt={underworld:"backgrounds/12.png",spring:"backgrounds/7.png",autumn:"backgrounds/13.png",winter:"backgrounds/4.png",summer:"backgrounds/8.png"},re={underworld:"#000000",spring:"#4987E3",autumn:"#7C93B5",winter:"#002B6C",summer:"#77AEFF"};function we({texture:t,frameWidth:s,frameHeight:n,frameCount:l,animationSpeed:a}){const r=p.useRef(0),o=p.useRef(0),c=p.useRef(ee.EMPTY);return Me(i=>{const d=i.deltaMS/16.666666666666668;o.current+=d,o.current>=a&&(o.current=0,r.current=(r.current+1)%l);const h=new Re(r.current*s,0,s,n);c.current=new ee({source:t.source,frame:h})}),c.current}X({Graphics:xe,Container:de,Sprite:G});const R=24,Nt=1,Et=()=>{const t=C(r=>r.position),s=p.useRef(null),n=p.useRef(null),l=N("fog");p.useEffect(()=>{if(!s.current)return;const r=s.current;r.removeChildren();for(let o=0;o<he;o++)for(let c=0;c<ue;c++){const i=new G(l);i.alpha=Nt,i.x=o*R,i.y=c*R,r.addChild(i)}},[l]);const a=r=>{r.clear();const o=t.x+R/2,c=t.y+R/2;r.rect(0,0,me,pe).fill(16777215),r.circle(o,c,R*1.5),r.cut()};return p.useEffect(()=>{s.current&&n.current&&(s.current.mask=n.current)},[s.current,n.current]),e.jsxs(e.Fragment,{children:[e.jsx("pixiContainer",{ref:s,zIndex:9999}),e.jsx("pixiGraphics",{ref:n,draw:a,zIndex:1e4})]})},It=()=>{const{carriedItem:t,currentMiniGame:s,deliveryZones:n,activeDeliveryZoneIndex:l}=L(),a=N(`platform_games_${s}`);return e.jsxs(e.Fragment,{children:[e.jsx($e,{texture:a}),s==="autumn"&&t===8&&n.length>0&&e.jsx(ze,{x:n[l]?.x,y:n[l]?.y,texture:N("box_zone"),size:{width:24,height:24}}),s==="winter"&&e.jsx(Et,{})]})};X({Sprite:G});const Lt=({x:t,y:s})=>{const n=$.get("rain"),l=E*8,a=E*8,c=we({texture:n,frameWidth:l,frameHeight:a,frameCount:16,animationSpeed:4});return e.jsx("pixiSprite",{x:t,y:s,texture:c,width:l,height:a,zIndex:-1,eventMode:"static"})};X({Sprite:G});const Tt=({x:t,y:s})=>{const n=$.get("snow"),l=E*8,a=E*8,c=we({texture:n,frameWidth:l,frameHeight:a,frameCount:16,animationSpeed:6});return e.jsx("pixiSprite",{x:t,y:s,texture:c,width:l,height:a,zIndex:-1,eventMode:"static"})},Pt=({season:t})=>{const s=[];for(let n=0;n<42;n+=8)for(let l=0;l<45;l+=8)s.push(t==="autumn"?e.jsx(Lt,{x:l*24,y:n*24},`${n}-${l}`):t==="winter"?e.jsx(Tt,{x:l*24,y:n*24},`${n}-${l}`):null);return e.jsx(e.Fragment,{children:s})},At=t=>p.useMemo(()=>t?Array.from({length:5}).map((s,n)=>({id:`cloud-${n}`,x:Math.random()*window.innerWidth,y:50+Math.random()*100,speed:4,textureString:`cloud${1+Math.floor(Math.random()*7)}`})):[],[t]),Rt=({containerWidth:t,containerHeight:s,isLoaded:n})=>{const l=At(n);return e.jsxs(e.Fragment,{children:[e.jsx(Ge,{sunTexture:N("sun"),moonTexture:N("moon"),containerWidth:t,containerHeight:s}),e.jsx(Be,{containerWidth:t,containerHeight:s}),l.map(a=>e.jsx(Fe,{x:a.x,y:a.y,width:128,height:64,speed:a.speed,boundsWidth:t*1.2,texture:N(a.textureString)},a.id))]})};X({Container:de,Sprite:G,Graphics:xe});const Ot=()=>{const t=W(u=>u.isLoaded),s=W(u=>u.load),n=C(u=>u.season),l=S(u=>u.currentLevelID),a=L(u=>u.currentMiniGame),r=p.useRef(null);p.useEffect(()=>{const u=r.current?.getApplication?.();u&&(u.renderer.background.color=Number(re[n].replace("#","0x")))},[n]),p.useEffect(()=>((()=>{bt()})(),()=>{Mt()}),[]),p.useEffect(()=>{!l||a||s(l)},[l,n,s,a]);const o=p.useRef(null),{offsetX:c,offsetY:i,scale:d}=_t(o,t),h=p.useMemo(()=>({width:o.current?.clientWidth??window.innerWidth,height:o.current?.clientHeight??window.innerHeight}),[]);return t?e.jsxs("div",{ref:o,className:"w-full h-full relative z-10",children:[e.jsx(_e,{resizeTo:o,ref:r,backgroundColor:re[n],children:e.jsxs("pixiContainer",{x:c,y:i,scale:d,sortableChildren:!0,children:[!a&&n!=="underworld"&&e.jsxs(e.Fragment,{children:[e.jsx(Pt,{season:n}),e.jsx(Rt,{containerWidth:h.width,containerHeight:h.height,isLoaded:t})]}),a&&e.jsx(It,{}),e.jsx(Ue,{}),e.jsx(We,{}),e.jsx(Ye,{}),e.jsx(Ke,{}),e.jsx(qe,{}),e.jsx(Xe,{})]})}),e.jsx(Zt,{offsetX:c,offsetY:i,scale:d})]}):null},ie=({children:t})=>e.jsx("div",{className:"fixed backdrop-blur-sm z-1000 w-full h-full flex-center",children:e.jsx("div",{className:"grid gap-4 grid-cols-1 h-[36vh] max-w-lg w-full text-fg mt-[-10rem] mx-5",children:p.Children.map(t,s=>s)})}),$t=({className:t})=>e.jsx("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:`inline-block ${t}`,width:"100%",height:"100%",preserveAspectRatio:"xMidYMid meet",children:e.jsx("path",{d:"M28.4522 21V17.5077H32V3.49234H28.4522V0H3.54778V3.49234H0V17.5077H3.54778V21H28.4522ZM7.09555 6.98468H24.8811V10.5H21.3333V13.9923H17.7622V17.5077H14.2144V13.9923H10.6667V10.5H7.09555V6.98468Z",fill:"currentColor"})}),zt=({className:t})=>e.jsx("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:`inline-block ${t}`,width:"100%",height:"100%",preserveAspectRatio:"xMidYMid meet",children:e.jsx("path",{d:"M17.4885 32V28.4315H21V3.56851H17.4885V0H3.51148V3.56851H0V28.4315H3.51148V32H17.4885ZM3.51148 14.2274H7V10.6589H10.4885V7.1137H14V24.8863H10.4885V21.3178H7V17.7726H3.51148V14.2274Z",fill:"currentColor"})}),Gt=({className:t})=>e.jsx("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:`inline-block ${t}`,width:"100%",height:"100%",preserveAspectRatio:"xMidYMid meet",children:e.jsx("path",{d:"M17.5077 0H3.49234V3.56851H0V28.4315H3.49234V32H17.5077V28.4315H21V3.56851H17.5077V0ZM17.5077 17.7726H13.9923V21.3178H10.5V24.8863H7.00766V7.1137H10.5V10.6589H13.9923V14.2274H17.5077V17.7726Z",fill:"currentColor"})}),Bt=({className:t})=>e.jsx("svg",{viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:`inline-block ${t}`,width:"100%",height:"100%",preserveAspectRatio:"xMidYMid meet",children:e.jsx("path",{d:"M32 3.49234H28.4522V0H3.54778V3.49234H0V17.5077H3.54778V21H28.4522V17.5077H32V3.49234ZM24.8811 13.9923H7.09555V10.5H10.6667V7.00766H14.2144V3.49234H17.7622V7.00766H21.3333V10.5H24.8811V13.9923Z",fill:"currentColor"})}),Ft=()=>{if(!(window.innerWidth<=1e3||window.innerHeight<=600))return null;const s="w-18 h-18",n="pointer-events-auto flex items-center justify-center",{onLadder:l}=C.getState(),{isMiniGame:a}=W.getState();return e.jsxs("div",{className:"fixed bottom-4 left-8 right-4 flex justify-between items-end px-4 z-50 pointer-events-none",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{className:n,onTouchStart:()=>Z("left"),onTouchEnd:()=>v("left"),onTouchCancel:()=>v("left"),type:"button",children:e.jsx(zt,{className:s})}),e.jsx("button",{className:n,onTouchStart:()=>Z("right"),onTouchEnd:()=>v("right"),onTouchCancel:()=>v("right"),type:"button",children:e.jsx(Gt,{className:s})})]}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx("button",{className:n,onTouchStart:()=>{Z(l||a?"up":"jump")},onTouchEnd:()=>{v("up"),v("jump")},onTouchCancel:()=>{v("up"),v("jump")},type:"button",children:e.jsx(Bt,{className:s})}),e.jsx("button",{className:n,onTouchStart:()=>Z("down"),onTouchEnd:()=>v("down"),onTouchCancel:()=>v("down"),type:"button",children:e.jsx($t,{className:s})})]})]})};function Ut(t){const s=Math.floor(t/1e3/60),n=String(Math.floor(t/1e3%60)).padStart(2,"0");return`${s}:${n}`}const Wt=({attempts:t,stars:s,time:n})=>e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"flex-center mx-1 px-1 gap-1",children:[e.jsx(Se,{}),t]}),e.jsxs("span",{className:"flex-center mx-1 px-1 gap-1",children:[e.jsx(Ze,{fill:"yellow"}),s]}),e.jsxs("span",{className:"flex-center mx-1 px-1 gap-1",children:[e.jsx(ke,{}),Ut(n)]})]}),Yt=()=>{const{t}=f("translations"),{resume:s}=S();return e.jsx(V,{title:t("continue"),onClick:()=>{s()}})},z=({title:t,newState:s})=>{const{reset:n}=S(),{resetBackground:l}=ce(),a=k(o=>o.change),{t:r}=f("translations");return e.jsx(V,{title:r(t),onClick:()=>{a(s),n(),l(),O.getState().removeMiniGameItems(),L.getState().clearCurrentMiniGame()}})},Kt=()=>e.jsxs(e.Fragment,{children:[e.jsx(Yt,{}),e.jsx(fe,{}),e.jsx(z,{title:"exitToLevels",newState:"levelSelect"}),e.jsx(z,{title:"exitToMenu",newState:"menu"})]}),qt=()=>{const{currentLevelID:t,startLevel:s}=S(),n=k(r=>r.change),{levels:l}=te(),{t:a}=f("translations");return e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"font-bold text-3xl text-center",children:a("winTitle")}),t&&l[`${parseInt(t)+1}`]&&e.jsx(V,{title:a("nextLevel"),onClick:()=>{s(`${parseInt(t)+1}`),n("playing")}}),e.jsx(z,{title:"exitToLevels",newState:"levelSelect"}),e.jsx(z,{title:"exitToMenu",newState:"menu"})]})},Xt=({id:t,source:s,amount:n,action:l,height:a=1})=>e.jsxs("div",{onClick:l,className:`w-12 h-mobile:w-8 ${a===2?"row-span-2 h-26 h-mobile:h-17":"h-12 h-mobile:h-8"}
            relative bg-black rounded-lg border-2 h-mobile:border-1 border-white flex-center hover:border-rose-300`,children:[e.jsx("img",{src:s,alt:`item-${t}`,className:"w-full h-[70%] object-contain"}),n>1&&e.jsx("span",{className:"absolute bottom-0 right-0 text-xs h-mobile:text-[0.5rem] text-white px-1",children:n})]}),Jt=()=>{const t=O(l=>l.items),s=O(l=>l.doAction),n=Array(ne).fill(null);return t.forEach(l=>{l.id<=ne&&(n[l.id-1]=l)}),e.jsx("div",{className:"grid grid-cols-7 gap-2 h-mobile:gap-1 p-2 mb-auto mt-2 h-mobile:mt-1 rounded-lg w-fit border-2",children:n.map((l,a)=>l?e.jsx(Xt,{id:l.id,source:l.source,amount:l.amount,action:()=>s(l.id),height:l.height},`item-${a}`):e.jsx("div",{className:"w-12 h-12 h-mobile:w-8 h-mobile:h-8 rounded-lg border bg-black border-white flex-center opacity-30"},`empty-${a}`))})},Qt=()=>{const{content:t}=w();return t?e.jsx("div",{className:"fixed inset-0 z-[1002] bg-black/50 backdrop-blur-sm flex-center",children:e.jsx("div",{className:"bg-[#1e1e1e] border border-gray-700 p-4 max-h-[85vh] rounded w-full max-w-md mx-4 text-white",children:t})}):null},Ms=()=>{const{status:t,stars:s,currentAttempts:n,pause:l,curTime:a}=S(),{season:r}=C(),{setBackground:o}=ce(),{menu:c}=M();p.useEffect(()=>{r&&o(kt[r])},[r,o]);const i=()=>{switch(c){case"main":return e.jsx(Kt,{});case"settings":return e.jsx(ge,{});case"language":return e.jsx(je,{});case"volume":return e.jsx(Ve,{})}};return e.jsxs("div",{className:"w-screen h-screen flex-center flex-col relative overflow-hidden gap-2",children:[e.jsx("h1",{className:`h-xs:hidden\r
        mt-auto font-bold text-fg text-center\r
                            h-sm:hidden\r
                            h-md:text-7xl\r
                            h-lg:text-8xl\r
                            h-xl:text-9xl\r
                            `,children:r}),e.jsxs("div",{className:`\r
                    my-auto\r
                    relative\r
                    h-[60vh]\r
                    w-[60vw]\r
                    border-black\r
                    flex-center\r
                `,children:[e.jsx("div",{className:"fixed left-2 top-2 z-1001 flex-center flex-row",children:e.jsx(Wt,{attempts:n,stars:s,time:a})}),e.jsx(Ot,{}),e.jsx("button",{className:"z-1001 fixed top-4 right-4 w-10 h-10 bg-gray-800 text-white rounded-lg hover:bg-gray-600 transition flex-center",onClick:l,children:e.jsx(Ne,{})}),e.jsx(Ft,{})]}),e.jsx(Jt,{}),e.jsx(Qt,{}),t==="paused"&&e.jsx(ie,{children:i()}),t==="won"&&e.jsx(ie,{children:e.jsx(qt,{})})]})},Q=t=>{const{t:s}=f("translations");return e.jsxs("div",{className:`\r
            h-xs:text-sm h-sm:text-base h-md:text-lg h-lg:text-xl h-xl:text-2xl\r
            h-xs:p-4 h-sm:p-6 h-md:p-8 h-lg:p-10 h-xl:p-12\r
            flex-center flex-col rounded-2xl font-bold text-fg transition duration-200 shadow-md border-2 active:scale-95`,children:[e.jsx("img",{src:t.src,alt:t.name,className:"w-28 h-28 h-sm:w-24 h-sm:h-24 h-xs:w-20 h-xs:h-20 m-2 object-contain"}),e.jsx("h2",{className:"h-xs:text-md h-sm:text-lg h-md:text-xl h-lg:text-2xl h-xl:text-3xl font-bold",children:t.name}),e.jsx("p",{className:"font-normal text-xs h-sm:text-sm h-md:text-base text-center text-grey opacity-70 max-w-[32rem] mx-auto",children:s(`${t.name}Description`)})]})},es=()=>{const[t,s]=p.useState(0),[n,l]=p.useState([]),{t:a}=f("translations"),{init:r}=C();p.useEffect(()=>{(async()=>{const H=await Promise.all(Array.from({length:et},(b,A)=>Ht(A+1))),P=await Promise.all(H.map(async(b,A)=>({id:A+1,season:"underworld",size:b.size,name:b.name,texture:await $.load(b.spriteUnderworld),textureString:b.spriteUnderworld,src:b.source,speed:b.speed,jumpPower:b.jumpPower})));l(P)})()},[]);const o=()=>{s(x=>(x-1+n.length)%n.length)},c=()=>{s(x=>(x+1)%n.length)},i=()=>{const x=n[t];r(x.name,x.texture,x.textureString,x.speed,x.jumpPower,x.size,x.season,x.id)},d=(x,H)=>{x.preventDefault(),H.offset.x>100?o():H.offset.x<-100&&c()};if(n.length===0)return e.jsx("div",{className:"w-full h-full flex-center p-10 mt-[20vh]",children:e.jsxs("p",{className:"text-5xl font-bold text-center text-white flex-center gap-4 z-20",children:[e.jsx(Ee,{className:"w-32 h-32 animate-spin"})," ",a("loading")]})});const h=x=>{const H=n.length;return(x+H)%H},u=n[t],g=n[h(t-1)],m=n[h(t+1)];return e.jsxs("div",{className:"relative w-full h-screen flex-center flex-col overflow-hidden px-4 py-2",children:[e.jsx("h1",{className:`text-center font-bold text-fg\r
                            h-xs:text-4xl h-xs:mt-3\r
                            h-sm:text-5xl h-sm:mt-4\r
                            h-md:text-6xl h-md:mt-6\r
                            h-lg:text-7xl h-lg:mt-8\r
                            h-xl:text-8xl h-xl:mt-10\r
            `,children:a("selectPlayer")}),e.jsxs("div",{className:"relative w-full max-w-[80vw] flex-center flex-grow",children:[e.jsx("div",{className:"absolute left-0 top-1/2 -translate-y-1/2 z-20",children:e.jsx(V,{onClick:o,title:e.jsx(Ie,{size:32})})}),e.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 z-20",children:e.jsx(V,{onClick:c,title:e.jsx(Le,{size:32})})}),e.jsx(y.div,{className:"absolute left-[5%] w-[40%] scale-[0.6] opacity-30",animate:{rotateY:-25,zIndex:1},transition:{duration:.4},children:e.jsx(Q,{...g})}),e.jsx(y.div,{className:"z-10 w-[60%]",drag:"x",onDragEnd:d,dragConstraints:{left:0,right:0},dragElastic:.2,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.4},children:e.jsx(Q,{...u})},u.name),e.jsx(y.div,{className:"absolute right-[5%] w-[40%] scale-[0.6] opacity-30",animate:{rotateY:25,zIndex:1},transition:{duration:.4},children:e.jsx(Q,{...m})})]}),e.jsx("div",{className:"mb-4",children:e.jsx(V,{onClick:i,title:a("select"),className:"w-fit mx-auto"})})]})},ts=({onClose:t})=>{const{t:s}=f("translations"),n=s("synopsis.text"),[l,a]=p.useState(""),[r,o]=p.useState(!1),[c,i]=p.useState(!1);return p.useEffect(()=>{let d=0,h;(()=>{h=setInterval(()=>{if(c){a(n),o(!0),clearInterval(h);return}a(n.slice(0,d)),d++,d>n.length&&(clearInterval(h),o(!0))},65)})();const g=m=>{m.key==="Enter"&&!r&&i(!0)};return window.addEventListener("keydown",g),()=>{clearInterval(h),window.removeEventListener("keydown",g)}},[n,c]),e.jsx(q,{children:e.jsxs(y.div,{className:"fixed inset-0 bg-black z-50 flex-center flex-col text-white",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[e.jsx("div",{className:"max-w-[60vw] text-lg sm:text-xl md:text-2xl font-light leading-relaxed text-left whitespace-pre-wrap",children:l}),r&&e.jsx("div",{className:"absolute bottom-12 left-1/2 -translate-x-1/2",children:e.jsx(V,{title:s("synopsis.understood"),onClick:t})})]})})},ss="/game-szns/",_s=()=>{const{t}=f("translations"),{textureString:s,change:n}=C(),{storyShown:l,setStoryShown:a,change:r}=k(),o=S(m=>m.startLevel),c=te(m=>m.levels),[i,d]=p.useState(!1),[h,u]=p.useState(!1),g=()=>{const m=Object.values(c).find(x=>x.unlocked);m&&(d(!0),setTimeout(()=>{l?(o(m.id),r("playing")):u(!0)},2e3))};return p.useEffect(()=>{if(!s)return;const m=x=>{(x.key.toLowerCase()==="а"||x.key.toLowerCase()==="f")&&!i&&!h&&g()};return window.addEventListener("keydown",m),()=>window.removeEventListener("keydown",m)},[i,h,c,s]),s?e.jsxs("div",{className:"relative w-full h-screen overflow-hidden flex-center flex-col text-white",children:[e.jsx(y.h1,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6},className:`${tt}text-center font-bold text-fg mask-b-from-0 mb-3`,children:t("jumpInto")}),e.jsx(y.img,{src:`${ss}/assets/portal.png`,alt:"Portal",className:"h-[60dvh] h-mobile:h-[50dvh] z-10 my-4 h-mobile:my-2 cursor-pointer transition-all",initial:{scale:1,opacity:0,x:-30},animate:{scale:1,opacity:1,x:0},transition:{duration:1,ease:"easeInOut"},whileHover:{scale:1.05,filter:"brightness(1.2)"},whileTap:{scale:.95},onClick:()=>{i||g()}}),e.jsx(y.div,{className:`h-xs:text-lg\r
                            h-sm:text-lg\r
                            h-md:text-xl\r
                            h-lg:text-2xl\r
                            h-xl:text-2xl\r
        text-3xl z-10 mb-6 h-mobile:mb-2`,initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},children:t("timeJump")}),e.jsxs(y.div,{className:"relative flex-center gap-4 z-10 mb-2 w-full",initial:{opacity:0},animate:{opacity:1},transition:{delay:.7},children:[e.jsx(F,{newState:"menu",global:!0}),e.jsx(V,{title:t("changePlayer"),onClick:()=>n()}),l&&e.jsx("div",{className:"absolute right-4",children:e.jsx(V,{title:t("synopsis.name"),onClick:()=>{a(!1),u(m=>!m)}})})]}),e.jsx(q,{children:i&&e.jsxs(e.Fragment,{children:[e.jsx(y.div,{className:"absolute inset-0 z-20 bg-black",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:1.5,ease:"easeInOut"}}),[...Array(30)].map((m,x)=>e.jsx(y.div,{className:"w-2 h-2 bg-white rounded-full absolute",style:{top:`${Math.random()*100}%`,left:`${Math.random()*100}%`},initial:{opacity:1,scale:1},animate:{y:[0,-100],opacity:[1,0],scale:[1,.5]},transition:{duration:1.5,ease:"easeOut",delay:Math.random()}},x))]})}),h&&e.jsx(ts,{onClose:()=>{const m=Object.values(c).find(x=>x.unlocked);m&&(a(!0),o(m.id),r("playing"))}})]}):e.jsx("div",{className:"w-full h-screen overflow-hidden flex flex-col pb-[4vh]",children:e.jsx(es,{})})},ns=()=>{const{visible:t,message:s}=Ae();return e.jsx(q,{children:t&&s&&e.jsx(y.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:1},className:"fixed top-6 left-1/2 -translate-x-1/2 bg-black/80 text-white px-4 py-2 rounded-lg shadow-lg text-lg z-[1002]",children:s},s)})},Ss=({children:t,backgroundUrl:s,darkenBackground:n=!0,center:l=!0})=>e.jsxs("div",{className:"relative w-screen min-h-[100dvh] overflow-hidden",children:[s&&e.jsx("div",{className:`absolute inset-0 bg-cover bg-center ${n?"brightness-50":""}`,style:{backgroundImage:`url(${s})`}}),e.jsx("div",{className:`absolute inset-0 z-0 ${l?"flex-center":""}`,children:t}),e.jsx(ns,{})]}),Zs=()=>{const{t}=f("translations");return e.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-white px-4 text-center gap-6",children:[e.jsx("h1",{className:"text-4xl font-bold",children:t("titles.thanks")}),e.jsx("p",{className:"text-lg",children:t("titles.message")}),e.jsx(z,{title:t("titles.backToMenu"),newState:"menu"})]})};export{ps as A,Ds as B,he as C,fs as D,ws as F,pe as G,bs as H,js as L,Vs as M,Cs as P,ue as R,st as S,ys as T,xs as U,j as _,vs as a,Hs as b,E as c,ms as d,is as e,us as f,N as g,hs as h,ae as i,cs as j,D as k,gs as l,ds as m,me as n,Ss as o,Zs as p,Ms as q,_s as r,Dt as s,we as u};
